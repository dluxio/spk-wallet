(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[662],{29640:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return N}});var r=n(80318),s=n(9669),i=n.n(s),o=n(67294),a=n(2804),c=n(63569),u=n(95276),l=n.n(u),d=n(99176),m=n(37039),p=n(89583),f=n(92809),h=n(94649),x=n(86733),b=n(85893);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,f.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=function(e){var t=e.handleSubmit;return(0,b.jsxs)("div",{className:"w-full mx-2 my-4",children:[(0,b.jsx)("h1",{className:"text-2xl",children:"Witness settings"}),(0,b.jsx)(h.J9,{initialValues:{dexFee:20,domain:"",pubKey:"",prevKey:""},validate:function(e){var t=e.domain,n=e.pubKey,r=e.prevKey,s={};return t||(s.domain="Required!"),n||(s.pubKey="Required!"),r||(s.prevKey="Required!"),s},onSubmit:function(e,n){var r=n.setSubmitting;t(v(v({},e),{},{pubKey:e.pubKey.trim(),prevKey:e.prevKey.trim()})),r(!1)},children:function(e){var t=e.values,n=e.errors,r=e.touched,s=e.handleChange,i=e.handleBlur,o=e.handleSubmit;return(0,b.jsx)("div",{className:"w-full sm:w-1/2 bg-gray-400 px-7 py-3 text-base rounded-xl border-2 border-gray-200",children:(0,b.jsxs)("form",{onSubmit:o,children:[(0,b.jsx)(x.y,{name:"domain",sideTitle:"https://",errors:n.domain,handleBlur:i,handleChange:s,touched:r.domain,value:t.domain}),(0,b.jsxs)("div",{className:"relative mt-2",children:[(0,b.jsx)("h1",{className:"absolute top-8 right-8",children:"%"}),(0,b.jsx)(x.y,{name:"dexFee",title:"DEX fee percent",type:"number",min:1,errors:n.dexFee,handleBlur:i,handleChange:s,touched:r.dexFee,value:t.dexFee})]}),(0,b.jsxs)("div",{className:"flex gap-2 mt-3",children:[(0,b.jsx)(x.y,{name:"pubKey",title:"DLUX MS Witness Pub Key",errors:n.pubKey,handleBlur:i,handleChange:s,touched:r.pubKey,value:t.pubKey}),(0,b.jsx)(x.y,{name:"prevKey",title:"DLUX MS Witness Private Key",errors:n.prevKey,handleBlur:i,handleChange:s,touched:r.prevKey,value:t.prevKey})]}),(0,b.jsx)("button",{type:"submit",className:"px-2 py-1 mx-auto mt-5 flex items-center gap-3 rounded-lg border-2 text-white bg-gradient-to-b from-pink-500 to-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-600",children:"Submit"})]})})}})]})},j=n(43196),w=new(l()),N=function(){var e=(0,o.useState)(),t=e[0],n=e[1],s=(0,o.useState)([]),u=s[0],l=s[1],f=(0,a.FV)(c.H3),h=(0,r.Z)(f,2),x=h[0],g=h[1],v=(0,m.$G)().t,N=(0,a.sJ)(c.KL);(0,o.useEffect)((function(){l([]),i().get("".concat(x,"api/mirrors")).then((function(e){var t=e.data,r=[];t.apis.forEach((function(e){e.api_url.includes(e.node)&&r.push(e)})),n(r)}))}),[]),(0,o.useEffect)((function(){var e=[];t?(t.forEach((function(t){w.ping(t.api_url).catch((function(n){e.push({value:t.api_url,label:"".concat(n,"ms | ").concat(t.node," | ").concat(t.api_url),pingTime:n})}))})),l(e.sort((function(e,t){return e.pingTime<t.pingTime?1:-1})))):l(t)}),[t]);return(0,b.jsx)("div",{className:"text-white text-3xl",children:(0,b.jsxs)("div",{className:"mx-10 my-10",children:[(0,b.jsx)("h1",{className:"my-5",children:v("settings")}),(0,b.jsxs)("div",{className:"w-full my-10 mx-2 sm:w-1/2",children:[(0,b.jsx)("h1",{className:"text-2xl",children:v("APIlink")}),(0,b.jsx)(d.ZP,{className:"my-1 text-sm h-3 text-black",placeholder:v("select"),options:u,onChange:function(e){g(e.value)}})]}),(0,b.jsx)(y,{handleSubmit:function(e){(0,j.cY)(e,N.name)}}),(0,b.jsxs)("div",{className:"w-full mx-2 sm:w-1/2",children:[(0,b.jsx)("h1",{className:"text-2xl mb-3",children:v("desktopApp")}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,b.jsx)("button",{className:"transition text-xl px-4 py-2 rounded-lg border-2 text-white bg-gradient-to-r from-green-400 to-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-700",children:(0,b.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,b.jsx)(p.zTP,{}),"Windows"]})}),(0,b.jsx)("button",{className:"text-xl px-4 py-2 rounded-lg border-2 text-white bg-gradient-to-r from-red-500 to-pink-400 focus:outline-none focus:ring-2 focus:ring-red-700",children:(0,b.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,b.jsx)(p.oPZ,{}),"MacOS"]})}),(0,b.jsx)("button",{className:"text-xl px-4 py-2 rounded-lg border-2 text-white bg-gradient-to-r from-purple-400 to-pink-500 focus:outline-none focus:ring-2 focus:ring-purple-700",children:(0,b.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,b.jsx)(p._Aq,{}),"Linux"]})})]}),(0,b.jsx)("h1",{className:"text-sm my-2 text-red-400",children:"WARNING! The desktop app is not ready for release yet..."})]})]})})}},19471:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings",function(){return n(29640)}])},95276:function(e,t,n){var r=n(93956);e.exports=r},93956:function(e){var t=function(e){this.opt=e||{},this.favicon=this.opt.favicon||"/favicon.ico",this.timeout=this.opt.timeout||0,this.logError=this.opt.logError||!1};t.prototype.ping=function(e,t){var n,r,s;"undefined"!==typeof Promise&&(n=new Promise((function(e,t){r=e,s=t})));var i,o=this;o.wasSuccess=!1,o.img=new Image,o.img.onload=function(e){o.wasSuccess=!0,c.call(o,e)},o.img.onerror=function(e){o.wasSuccess=!1,c.call(o,e)};var a=new Date;function c(){i&&clearTimeout(i);var e=new Date-a;if(t){if("function"===typeof t)return this.wasSuccess?(n&&r(e),t(null,e)):(o.logError&&console.error("error loading resource"),n&&s(e),t("error",e));throw new Error("Callback is not a function.")}if(n)return this.wasSuccess?r(e):s(e);throw new Error("Promise is not supported by your browser. Use callback instead.")}return o.timeout&&(i=setTimeout((function(){c.call(o,void 0)}),o.timeout)),o.img.src=e+o.favicon+"?"+ +new Date,n},e.exports&&(e.exports=t)}},function(e){e.O(0,[774,888,179],(function(){return t=19471,e(e.s=t);var t}));var t=e.O();_N_E=t}]);