(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[446],{1017:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return j}});var a=s(30266),i=s(809),r=s.n(i),n=s(67294),l=s(40827),c=s(11163),o=s(45051),u=s(87893),m=s(37039),h=s(19686),f=s(43196),d=s(45155),p=s(79352),x=s(85893),g=["https://","http://"],v=function(e){var t=e.userData,s=e.username,a=e.author;return(0,x.jsx)("div",{className:"flex flex-col items-center w-full",children:(0,x.jsxs)("div",{className:"relative overflow-hidden border-2 text-white p-5 rounded-xl border-gray-800 ".concat(null!==t&&void 0!==t&&t.cover_image?"bg-black":"bg-gray-600"," flex-col ").concat(t?"flex":"hidden"," sm:flex-row items-center sm:items-start gap-3 w-full"),children:[(0,x.jsxs)("div",{className:"flex flex-col items-center justify-center z-10",children:[t&&(0,x.jsx)("img",{height:165,width:165,src:t.profile_image?t.profile_image:o.$8,alt:"profile"}),(0,x.jsx)("h1",{className:"text-xl my-2",children:"hive"===s.provider?a:null===t||void 0===t?void 0:t.name})]}),t&&(0,x.jsxs)("div",{className:"z-40 mx-5 my-auto",children:[(0,x.jsx)("h1",{className:"text-2xl mt-2",children:null===t||void 0===t?void 0:t.name}),t.about&&(0,x.jsxs)("div",{className:"flex items-center gap-2",children:[(0,x.jsx)(p.IIZ,{}),(0,x.jsx)("h1",{children:t.about})]}),t.location&&(0,x.jsxs)("div",{className:"flex items-center gap-2",children:[(0,x.jsx)(p.l65,{}),(0,x.jsx)("h1",{children:t.location})]}),t.website&&(0,x.jsx)("a",{target:"_blank",href:t.website,children:(0,x.jsxs)("div",{className:"flex items-center gap-2 hover:text-gray-300",children:[(0,x.jsx)(p.Utb,{}),(0,x.jsx)("h1",{children:function(e){var t="";return g.forEach((function(s){e.includes(s)&&(t=e.split("").splice(s.length,e.length).join("")).includes("www.")&&(t=e.split("www.",t.length)[1])})),t||e}(t.website)})]})})]}),t&&(0,x.jsxs)("div",{className:"sm:absolute z-20 right-7 bottom-6 flex gap-3",children:[t.facebook&&(0,x.jsx)("a",{target:"_blank",href:"https://www.facebook.com/"+t.facebook,className:"hover:text-gray-300",children:(0,x.jsx)(d.kKz,{size:25})}),t.instagram&&(0,x.jsx)("a",{target:"_blank",className:"hover:text-gray-300",href:"https://www.instagram.com/"+t.instagram,children:(0,x.jsx)(d.Z8w,{size:25})}),t.github&&(0,x.jsx)("a",{target:"_blank",className:"hover:text-gray-300",href:"https://www.github.com/"+t.github,children:(0,x.jsx)(d.lfl,{size:25})}),t.linkedin&&(0,x.jsx)("a",{target:"_blank",className:"hover:text-gray-300",href:"https://www.linkedin.com/"+t.linkedin,children:(0,x.jsx)(d.juy,{size:25})}),t.twitter&&(0,x.jsx)("a",{target:"_blank",className:"hover:text-gray-300",href:"https://www.twitter.com/"+t.twitter,children:(0,x.jsx)(d.Xai,{size:25})})]}),t&&t.cover_image&&(0,x.jsx)("img",{className:"absolute top-0 left-0 z-0 w-full pb-1 opacity-40",src:t.cover_image,width:120,height:120,alt:"coverPhoto"})]})})},w=s(88411),b=s(53817),j=function(){var e=(0,b.aM)().isMobile,t=new u.Client(o.ZA),s=(0,h.C)(o.LX),i=(0,c.useRouter)(),d=i.query.author,p=(0,n.useState)({username:"",provider:""}),g=p[0],j=p[1],_=(0,n.useState)([]),k=_[0],N=_[1],y=(0,n.useState)(null),z=y[0],E=y[1],C=(0,m.$G)().t;return(0,n.useEffect)((function(){if(d){var e=d.slice(0,1);"@"===e?j({username:d.slice(1,d.length),provider:"hive"}):"d"===e?j({username:d,provider:"ceramic"}):i.push("/404")}}),[d]),(0,n.useEffect)((function(){var e=function(){var e=(0,a.Z)(r().mark((function e(t){var a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.idx.get("basicProfile",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if(g)if("hive"===g.provider){var i={tag:g.username,limit:10};t.database.getDiscussions("blog",i).then((function(e){N(e)})),t.database.getAccounts([g.username]).then((function(e){e[0]&&E(JSON.parse(e[0].posting_json_metadata).profile)}))}else g.username&&(e(g.username).then((function(e){e&&E(e.profile?e.profile:{about:e.description||null,name:e.name||null,profile_image:"https://ipfs-3speak.b-cdn.net/ipfs/"+e.image.original.src.split("ipfs://")[1]||0,cover_image:"https://ipfs-3speak.b-cdn.net/ipfs/"+e.background.original.src.split("ipfs://")[1]||0,website:e.url||null,location:e.residenceCountry||null})})),(0,f.ww)(g.username).then((function(e){N(e)})))}),[g]),(0,x.jsxs)("div",{className:"flex flex-col text-white my-10 mx-2 sm:mx-10",children:[(0,x.jsx)(v,{userData:z,username:g,author:d}),(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("h1",{className:"my-3 font-bold text-xl",children:C("recent")}),(0,x.jsx)(l.Z,{breakpointCols:e?1:2,className:"masonry-grid sm:mx-4",columnClassName:"masonry-grid_column",children:k.map((function(e){var t=e.json_metadata?JSON.parse(e.json_metadata):null;return e.active_votes?(0,x.jsx)(w.y,{author:e.author,permlink:e.permlink,speak:!1,title:e.title,votes:e.active_votes,image:t.image[0],playlist:[],pfp:null!==z&&void 0!==z&&z.profile_image?z.profile_image:o.$8},e.permlink):(0,x.jsx)(w.y,{author:e.creatorId,permlink:e.permlink,pfp:o.$8,speak:!1,title:e.content.title?e.content.title:"",votes:[],image:"",playlist:[]},e.permlink)}))})]})]})}},2719:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[author]",function(){return s(1017)}])}},function(e){e.O(0,[937,158,774,888,179],(function(){return t=2719,e(e.s=t);var t}));var t=e.O();_N_E=t}]);